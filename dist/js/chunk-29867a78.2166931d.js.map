{"version":3,"sources":["webpack:///./node_modules/rxjs/_esm5/internal/observable/forkJoin.js","webpack:///./src/views/rich-text.vue?0816","webpack:///./src/views/ts/rich-text.ts","webpack:///./src/views/ts/rich-text.ts?471d","webpack:///./src/views/rich-text.vue","webpack:///./src/http/index.ts"],"names":["forkJoin","sources","_i","arguments","length","first_1","forkJoinInternal","Object","getPrototypeOf","prototype","keys","map","key","resultSelector_1","pop","pipe","args","apply","subscriber","len","values","Array","completed","emitted","_loop_1","i","source","hasValue","add","subscribe","next","value","error","err","complete","reduce","result","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","model","callback","$$v","ckeditorContent","expression","on","getCkeditorValue","_v","setCkeditorValue","staticRenderFns","mounted","$loading","getCkeditorContent","getMdContent","mergeMap","v","$hideLoading","data","$md","setData","$ckeditor","getData","$alert","$prompt","skipUntil","fullscreen","text","delay","catchError","of","RichTextComponent","component","Login","method","url","getTable","params","getUserInfo","getUserPeople","id","getUserSchool","getUserGrade","getEchartData1","getEchartData2"],"mappings":"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","file":"js/chunk-29867a78.2166931d.js","sourcesContent":["/** PURE_IMPORTS_START _Observable,_util_isArray,_operators_map,_util_isObject,_from PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { map } from '../operators/map';\nimport { isObject } from '../util/isObject';\nimport { from } from './from';\nexport function forkJoin() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    if (sources.length === 1) {\n        var first_1 = sources[0];\n        if (isArray(first_1)) {\n            return forkJoinInternal(first_1, null);\n        }\n        if (isObject(first_1) && Object.getPrototypeOf(first_1) === Object.prototype) {\n            var keys = Object.keys(first_1);\n            return forkJoinInternal(keys.map(function (key) { return first_1[key]; }), keys);\n        }\n    }\n    if (typeof sources[sources.length - 1] === 'function') {\n        var resultSelector_1 = sources.pop();\n        sources = (sources.length === 1 && isArray(sources[0])) ? sources[0] : sources;\n        return forkJoinInternal(sources, null).pipe(map(function (args) { return resultSelector_1.apply(void 0, args); }));\n    }\n    return forkJoinInternal(sources, null);\n}\nfunction forkJoinInternal(sources, keys) {\n    return new Observable(function (subscriber) {\n        var len = sources.length;\n        if (len === 0) {\n            subscriber.complete();\n            return;\n        }\n        var values = new Array(len);\n        var completed = 0;\n        var emitted = 0;\n        var _loop_1 = function (i) {\n            var source = from(sources[i]);\n            var hasValue = false;\n            subscriber.add(source.subscribe({\n                next: function (value) {\n                    if (!hasValue) {\n                        hasValue = true;\n                        emitted++;\n                    }\n                    values[i] = value;\n                },\n                error: function (err) { return subscriber.error(err); },\n                complete: function () {\n                    completed++;\n                    if (completed === len || !hasValue) {\n                        if (emitted === len) {\n                            subscriber.next(keys ?\n                                keys.reduce(function (result, key, i) { return (result[key] = values[i], result); }, {}) :\n                                values);\n                        }\n                        subscriber.complete();\n                    }\n                }\n            }));\n        };\n        for (var i = 0; i < len; i++) {\n            _loop_1(i);\n        }\n    });\n}\n//# sourceMappingURL=forkJoin.js.map\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-container\"},[_c('el-card',[_c('ckeditor',{ref:\"$ckeditor\",model:{value:(_vm.ckeditorContent),callback:function ($$v) {_vm.ckeditorContent=$$v},expression:\"ckeditorContent\"}}),_c('el-button',{on:{\"click\":_vm.getCkeditorValue}},[_vm._v(\"获取内容\")]),_c('el-button',{on:{\"click\":_vm.setCkeditorValue}},[_vm._v(\"设置内容\")])],1),_c('br'),_c('el-card',[_c('md',{ref:\"$md\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Component from \"vue-class-component\";\nimport Vue from 'vue'\nimport { Ref } from 'vue-property-decorator';\nimport CkeditorComponent from '@/component/ts/ckeditor';\nimport { flatMap, mergeMap, delay, tap, skipUntil, takeWhile, catchError, map } from 'rxjs/operators';\nimport request from '@/http';\nimport { of, Observable, forkJoin } from 'rxjs';\nimport MdComponent from '@/component/ts/md';\n\n@Component\nexport default class RichTextComponent extends Vue {\n\n    @Ref('$ckeditor') private $ckeditor!: CkeditorComponent\n    @Ref('$md') private  $md!: MdComponent;\n    private ckeditorContent: string = '';\n\n    private mounted(): void {\n       forkJoin(this.$loading({}),request.getCkeditorContent(), request.getMdContent()).pipe(\n           mergeMap(v => this.$hideLoading().pipe(map(_v => v )))\n       ).subscribe(v => {\n            this.ckeditorContent = v[1].data;\n            this.$md.setData(v[2].data)\n       })\n    }\n\n    private getCkeditorValue(){\n        this.$ckeditor.getData().pipe(\n            mergeMap((v: string) => this.$alert(v))\n        ).subscribe()\n    }    \n    private setCkeditorValue(){\n        \n        this.$prompt('请输入').pipe(\n            flatMap((v: any) => this.$ckeditor.setData(v.value)),\n            skipUntil(this.$loading({fullscreen:true,text:'加载中'})),\n            delay(1000),\n            mergeMap(v => this.$hideLoading()),\n            catchError(v => {\n                if(!v.pipe) v = of(v);\n                return v.pipe(mergeMap(v => this.$hideLoading()))\n            })\n        ).subscribe()\n        \n    }    \n\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/ts-loader/index.js??ref--13-3!./rich-text.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/ts-loader/index.js??ref--13-3!./rich-text.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rich-text.vue?vue&type=template&id=310a3277&\"\nimport script from \"./ts/rich-text?vue&type=script&lang=js&\"\nexport * from \"./ts/rich-text?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Observable } from 'rxjs'\nimport { RouteConfig } from 'vue-router';\nimport request from './request'\n/**\n * 模拟的网络请求\n */\n\n const request2 = <T>(data?: any): Observable<T> => {\n     return Observable.create((obs: any) => {\n         setTimeout(() => {\n            obs.next(data);\n            obs.complete()\n         },1000)\n     })\n }\n\n export interface CommonResponseData{\n     code: number\n     msg: string\n     data: any\n }\n\n interface UserInfo{\n     id: number\n     name: string\n     age: number\n     /**\n      * 0男1女\n      */\n     gender: number\n }\n\n export default class {\n\n    public static Login(data:{ username: string,password: string }): Observable<CommonResponseData&{auth:RouteConfig[]}> {\n        return request({ method: 'POST', url: '/login', data })\n    }\n\n    public static getTable(length: number = 2): Observable<CommonResponseData&{data:{date: string, name: string, address: string}[],total:number}> {\n        return request({method:'GET', url: '/tableData', params:{length}})\n    }\n\n    /**\n     * 模拟获取用户信息\n     */\n    public static getUserInfo(): Observable<CommonResponseData&{data:UserInfo}> {\n        return request({method:'POST', url: '/getUserInfo'})\n    }\n\n    //模拟获取用户朋友\n    public static getUserPeople(id: number): Observable<CommonResponseData&{data:UserInfo[]}>{\n        return request({method:'POST', url: '/getUserPeople'})\n    }\n\n    public static getUserSchool(id: number): Observable<CommonResponseData&{data:{id:number,name:string}}> {\n        return request({method:'POST', url: '/getUserSchool'})\n    }\n\n    public static getUserGrade(): Observable<CommonResponseData&{data:{id:number,name:string}}> {\n        return request({method:'POST', url: '/getUserGrade'})\n    }\n\n    //首页获取echart数据1\n    public static getEchartData1(): Observable<CommonResponseData> {\n        return request({method:'POST', url: '/echart-demo1'})\n    }\n\n    //首页获取echart数据2\n    public static getEchartData2(): Observable<CommonResponseData> {\n        return request({method:'POST', url: '/echart-demo2'})\n    }\n\n    public static getCkeditorContent(): Observable<CommonResponseData> {\n        return request({method:'POST',url:'/ckeditor-content'})\n    }\n    public static getMdContent(): Observable<CommonResponseData> {\n        return request({method:'POST',url:'/md-content'})\n    }\n\n }\n"],"sourceRoot":""}