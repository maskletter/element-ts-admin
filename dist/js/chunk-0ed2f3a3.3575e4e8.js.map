{"version":3,"sources":["webpack:///./src/views/rich-text.vue?6133","webpack:///./src/views/ts/rich-text.ts","webpack:///./src/views/ts/rich-text.ts?471d","webpack:///./src/views/rich-text.vue","webpack:///./src/http/index.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","model","value","callback","$$v","ckeditorContent","expression","on","getCkeditorValue","_v","setCkeditorValue","staticRenderFns","mounted","of","$loading","getCkeditorContent","getMdContent","pipe","mergeMap","v","type","data","$md","setData","subscribe","$ckeditor","getData","$alert","$prompt","skipUntil","fullscreen","text","delay","catchError","RichTextComponent","component","Login","method","url","getTable","length","params","getUserInfo","getUserPeople","id","getUserSchool","getUserGrade","getEchartData1","getEchartData2"],"mappings":"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","file":"js/chunk-0ed2f3a3.3575e4e8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-container\"},[_c('el-card',[_c('ckeditor',{ref:\"$ckeditor\",model:{value:(_vm.ckeditorContent),callback:function ($$v) {_vm.ckeditorContent=$$v},expression:\"ckeditorContent\"}}),_c('el-button',{on:{\"click\":_vm.getCkeditorValue}},[_vm._v(\"获取内容\")]),_c('el-button',{on:{\"click\":_vm.setCkeditorValue}},[_vm._v(\"设置内容\")])],1),_c('br'),_c('el-card',[_c('md',{ref:\"$md\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Component from \"vue-class-component\";\r\nimport Vue from 'vue'\r\nimport { Ref } from 'vue-property-decorator';\r\nimport CkeditorComponent from '@/component/ts/ckeditor';\r\nimport { flatMap, mergeMap, delay, tap, skipUntil, takeWhile, catchError } from 'rxjs/operators';\r\nimport request from '@/http';\r\nimport { of, Observable } from 'rxjs';\r\nimport MdComponent from '@/component/ts/md';\r\n\r\n@Component\r\nexport default class RichTextComponent extends Vue {\r\n\r\n    @Ref('$ckeditor') private $ckeditor!: CkeditorComponent\r\n    @Ref('$md') private  $md!: MdComponent;\r\n    private ckeditorContent: string = '';\r\n\r\n    private mounted(): void {\r\n        of(this.$loading({}),request.getCkeditorContent(), request.getMdContent()).pipe(\r\n            mergeMap(v => v),\r\n            mergeMap((v: any) => {\r\n                if(!v) return of();\r\n                if(v.type == 'ckeditor'){\r\n                    this.ckeditorContent = v.data;\r\n                    return of()\r\n                }else if(v.type == 'md') return this.$md.setData(v.data)\r\n            }),\r\n            mergeMap(v => this.$hideLoading())\r\n        ).subscribe()\r\n    }\r\n\r\n    private getCkeditorValue(){\r\n        this.$ckeditor.getData().pipe(\r\n            mergeMap((v: string) => this.$alert(v))\r\n        ).subscribe()\r\n    }    \r\n    private setCkeditorValue(){\r\n        \r\n        this.$prompt('请输入').pipe(\r\n            flatMap((v: any) => this.$ckeditor.setData(v.value)),\r\n            skipUntil(this.$loading({fullscreen:true,text:'加载中'})),\r\n            delay(1000),\r\n            mergeMap(v => this.$hideLoading()),\r\n            catchError(v => {\r\n                if(!v.pipe) v = of(v);\r\n                return v.pipe(mergeMap(v => this.$hideLoading()))\r\n            })\r\n        ).subscribe()\r\n        \r\n    }    \r\n\r\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/ts-loader/index.js??ref--13-3!./rich-text.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/ts-loader/index.js??ref--13-3!./rich-text.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rich-text.vue?vue&type=template&id=50e4c922&\"\nimport script from \"./ts/rich-text?vue&type=script&lang=js&\"\nexport * from \"./ts/rich-text?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Observable } from 'rxjs'\r\nimport { RouteConfig } from 'vue-router';\r\nimport request from './request'\r\n/**\r\n * 模拟的网络请求\r\n */\r\n\r\n const request2 = <T>(data?: any): Observable<T> => {\r\n     return Observable.create((obs: any) => {\r\n         setTimeout(() => {\r\n            obs.next(data);\r\n            obs.complete()\r\n         },1000)\r\n     })\r\n }\r\n\r\n export interface CommonResponseData{\r\n     code: number\r\n     msg: string\r\n     data: any\r\n }\r\n\r\n interface UserInfo{\r\n     id: number\r\n     name: string\r\n     age: number\r\n     /**\r\n      * 0男1女\r\n      */\r\n     gender: number\r\n }\r\n\r\n export default class {\r\n\r\n    public static Login(data:{ username: string,password: string }): Observable<CommonResponseData&{auth:RouteConfig[]}> {\r\n        return request({ method: 'POST', url: '/login', data })\r\n    }\r\n\r\n    public static getTable(length: number = 2): Observable<CommonResponseData&{data:{date: string, name: string, address: string}[],total:number}> {\r\n        return request({method:'GET', url: '/tableData', params:{length}})\r\n    }\r\n\r\n    /**\r\n     * 模拟获取用户信息\r\n     */\r\n    public static getUserInfo(): Observable<CommonResponseData&{data:UserInfo}> {\r\n        return request({method:'POST', url: '/getUserInfo'})\r\n    }\r\n\r\n    //模拟获取用户朋友\r\n    public static getUserPeople(id: number): Observable<CommonResponseData&{data:UserInfo[]}>{\r\n        return request({method:'POST', url: '/getUserPeople'})\r\n    }\r\n\r\n    public static getUserSchool(id: number): Observable<CommonResponseData&{data:{id:number,name:string}}> {\r\n        return request({method:'POST', url: '/getUserSchool'})\r\n    }\r\n\r\n    public static getUserGrade(): Observable<CommonResponseData&{data:{id:number,name:string}}> {\r\n        return request({method:'POST', url: '/getUserGrade'})\r\n    }\r\n\r\n    //首页获取echart数据1\r\n    public static getEchartData1(): Observable<CommonResponseData> {\r\n        return request({method:'POST', url: '/echart-demo1'})\r\n    }\r\n\r\n    //首页获取echart数据2\r\n    public static getEchartData2(): Observable<CommonResponseData> {\r\n        return request({method:'POST', url: '/echart-demo2'})\r\n    }\r\n\r\n    public static getCkeditorContent(): Observable<CommonResponseData> {\r\n        return request({method:'POST',url:'/ckeditor-content'})\r\n    }\r\n    public static getMdContent(): Observable<CommonResponseData> {\r\n        return request({method:'POST',url:'/md-content'})\r\n    }\r\n\r\n }\r\n"],"sourceRoot":""}